{"version":3,"file":"config.js","sources":["../../config.js"],"sourcesContent":["import { isValidServerMode } from \"./config/serverModes\";\r\nimport { serverBuildVirtualModule } from \"./compiler/server/virtualModules\";\r\nimport path from \"node:path\";\r\nimport fse from \"fs-extra\";\r\nimport PackageJson from \"@npmcli/package-json\";\r\n\r\nexport async function resolveConfig(appConfig, { rootDirectory, serverMode }) {\r\n  if (!isValidServerMode(serverMode)) {\r\n    throw new Error(`Invalid server mode \"${serverMode}\"`);\r\n  }\r\n\r\n  let serverBuildPath = path.resolve(\r\n    rootDirectory,\r\n    appConfig.serverBuildPath ?? \"build/index.js\"\r\n  );\r\n  let serverBuildTargetEntryModule = `export * from ${JSON.stringify(\r\n    serverBuildVirtualModule.id\r\n  )};`;\r\n  let serverConditions = appConfig.serverConditions;\r\n  let serverDependenciesToBundle = appConfig.serverDependenciesToBundle || [];\r\n  let serverEntryPoint = appConfig.server;\r\n  let serverMainFields = appConfig.serverMainFields;\r\n  let serverMinify = appConfig.serverMinify;\r\n\r\n  let serverModuleFormat = appConfig.serverModuleFormat || \"esm\";\r\n  let serverPlatform = appConfig.serverPlatform || \"node\";\r\n  serverMainFields ??=\r\n    serverModuleFormat === \"esm\" ? [\"module\", \"main\"] : [\"main\", \"module\"];\r\n  serverMinify ??= false;\r\n\r\n  let serverNodeBuiltinsPolyfill = appConfig.serverNodeBuiltinsPolyfill;\r\n  let browserNodeBuiltinsPolyfill = appConfig.browserNodeBuiltinsPolyfill;\r\n  let mdx = appConfig.mdx;\r\n  let postcss = appConfig.postcss ?? true;\r\n  let tailwind = appConfig.tailwind ?? true;\r\n\r\n  let appDirectory = path.resolve(\r\n    rootDirectory,\r\n    appConfig.appDirectory || \"app\"\r\n  );\r\n\r\n  let cacheDirectory = path.resolve(\r\n    rootDirectory,\r\n    appConfig.cacheDirectory || \".cache\"\r\n  );\r\n\r\n  let defaultsDirectory = path.resolve(__dirname, \"config\", \"defaults\");\r\n\r\n  let userEntryClientFile = findEntry(appDirectory, \"entry.client\");\r\n  let userEntryServerFile = findEntry(appDirectory, \"entry.server\");\r\n\r\n  let entryServerFile;\r\n  let entryClientFile = userEntryClientFile || \"entry.client.js\";\r\n\r\n  let pkgJson = await PackageJson.load(rootDirectory);\r\n  let deps = pkgJson.content.dependencies ?? {};\r\n\r\n  if (userEntryServerFile) {\r\n    entryServerFile = userEntryServerFile;\r\n  } else {\r\n    let serverRuntime = deps[\"@remix-vue/deno\"]\r\n      ? \"deno\"\r\n      : deps[\"@remix-vue/cloudflare\"]\r\n      ? \"cloudflare\"\r\n      : deps[\"@remix-vue/node\"]\r\n      ? \"node\"\r\n      : undefined;\r\n\r\n    if (!deps[\"isbot\"]) {\r\n      console.log(\r\n        \"adding `isbot` to your package.json, you should commit this change\"\r\n      );\r\n\r\n      pkgJson.update({\r\n        dependencies: {\r\n          ...pkgJson.content.dependencies,\r\n          isbot: \"latest\",\r\n        },\r\n      });\r\n\r\n      await pkgJson.save();\r\n\r\n      let packageManager = \"npm\";//detectPackageManager() ?? \"npm\";\r\n\r\n      execSync(`${packageManager} install`, {\r\n        cwd: rootDirectory,\r\n        stdio: \"inherit\",\r\n      });\r\n    }\r\n\r\n    entryServerFile = `entry.server.${serverRuntime}.js`;\r\n  }\r\n\r\n  let entryClientFilePath = userEntryClientFile\r\n    ? path.resolve(appDirectory, userEntryClientFile)\r\n    : path.resolve(defaultsDirectory, entryClientFile);\r\n\r\n  let entryServerFilePath = userEntryServerFile\r\n    ? path.resolve(appDirectory, userEntryServerFile)\r\n    : path.resolve(defaultsDirectory, entryServerFile);\r\n\r\n  let assetsBuildDirectory =\r\n    appConfig.assetsBuildDirectory || path.join(\"public\", \"build\");\r\n\r\n  let absoluteAssetsBuildDirectory = path.resolve(\r\n    rootDirectory,\r\n    assetsBuildDirectory\r\n  );\r\n\r\n  let publicPath = addTrailingSlash(appConfig.publicPath || \"/build/\");\r\n\r\n  let rootRouteFile = findEntry(appDirectory, \"root\");\r\n  if (!rootRouteFile) {\r\n    throw new Error(`Missing \"root\" route file in ${appDirectory}`);\r\n  }\r\n\r\n  let routes = {\r\n    root: { path: \"\", id: \"root\", file: rootRouteFile },\r\n  };\r\n\r\n  if (fse.existsSync(path.resolve(appDirectory, \"routes\"))) {\r\n    let fileRoutes = flatRoutes(appDirectory, appConfig.ignoredRouteFiles);\r\n    for (let route of Object.values(fileRoutes)) {\r\n      routes[route.id] = { ...route, parentId: route.parentId || \"root\" };\r\n    }\r\n  }\r\n  if (appConfig.routes) {\r\n    let manualRoutes = await appConfig.routes(defineRoutes);\r\n    for (let route of Object.values(manualRoutes)) {\r\n      routes[route.id] = { ...route, parentId: route.parentId || \"root\" };\r\n    }\r\n  }\r\n\r\n  let watchPaths = [];\r\n  if (typeof appConfig.watchPaths === \"function\") {\r\n    let directories = await appConfig.watchPaths();\r\n    watchPaths = watchPaths.concat(\r\n      Array.isArray(directories) ? directories : [directories]\r\n    );\r\n  } else if (appConfig.watchPaths) {\r\n    watchPaths = watchPaths.concat(\r\n      Array.isArray(appConfig.watchPaths)\r\n        ? appConfig.watchPaths\r\n        : [appConfig.watchPaths]\r\n    );\r\n  }\r\n\r\n  // When tsconfigPath is undefined, the default \"tsconfig.json\" is not\r\n  // found in the root directory.\r\n  let tsconfigPath = \"\";\r\n  let rootTsconfig = path.resolve(rootDirectory, \"tsconfig.json\");\r\n  let rootJsConfig = path.resolve(rootDirectory, \"jsconfig.json\");\r\n\r\n  if (fse.existsSync(rootTsconfig)) {\r\n    tsconfigPath = rootTsconfig;\r\n  } else if (fse.existsSync(rootJsConfig)) {\r\n    tsconfigPath = rootJsConfig;\r\n  }\r\n\r\n  // Note: When a future flag is removed from here, it should be added to the\r\n  // list below, so we can let folks know if they have obsolete flags in their\r\n  // config.  If we ever convert remix.config.js to a TS file, so we get proper\r\n  // typings this won't be necessary anymore.\r\n  let future = {\r\n    fetcherPersist: appConfig.future?.fetcherPersist === true,\r\n  };\r\n\r\n  if (appConfig.future) {\r\n    let userFlags = appConfig.future;\r\n    let deprecatedFlags = [\r\n      \"unstable_cssModules\",\r\n      \"unstable_cssSideEffectImports\",\r\n      \"unstable_dev\",\r\n      \"unstable_postcss\",\r\n      \"unstable_tailwind\",\r\n      \"unstable_vanillaExtract\",\r\n      \"errorBoundary\",\r\n      \"headers\",\r\n      \"meta\",\r\n      \"normalizeFormMethod\",\r\n      \"routeConvention\",\r\n    ];\r\n\r\n    if (\"dev\" in userFlags) {\r\n      if (userFlags.dev === true) {\r\n        deprecatedFlags.push(\"dev\");\r\n      } else {\r\n        logger.warn(\"The `dev` future flag is obsolete.\", {\r\n          details: [\r\n            \"Move your dev options from `future.dev` to `dev` within your `remix.config.js` file\",\r\n          ],\r\n        });\r\n      }\r\n    }\r\n\r\n    let obsoleteFlags = deprecatedFlags.filter((f) => f in userFlags);\r\n    if (obsoleteFlags.length > 0) {\r\n      logger.warn(\r\n        `The following Remix future flags are now obsolete ` +\r\n          `and can be removed from your remix.config.js file:\\n` +\r\n          obsoleteFlags.map((f) => `- ${f}\\n`).join(\"\")\r\n      );\r\n    }\r\n  }\r\n\r\n  return {\r\n    appDirectory,\r\n    cacheDirectory,\r\n    entryClientFile,\r\n    entryClientFilePath,\r\n    entryServerFile,\r\n    entryServerFilePath,\r\n    dev: appConfig.dev ?? {},\r\n    assetsBuildDirectory: absoluteAssetsBuildDirectory,\r\n    relativeAssetsBuildDirectory: assetsBuildDirectory,\r\n    publicPath,\r\n    rootDirectory,\r\n    routes,\r\n    serverBuildPath,\r\n    serverBuildTargetEntryModule,\r\n    serverConditions,\r\n    serverDependenciesToBundle,\r\n    serverEntryPoint,\r\n    serverMainFields,\r\n    serverMinify,\r\n    serverMode,\r\n    serverModuleFormat,\r\n    serverNodeBuiltinsPolyfill,\r\n    browserNodeBuiltinsPolyfill,\r\n    serverPlatform,\r\n    mdx,\r\n    postcss,\r\n    tailwind,\r\n    watchPaths,\r\n    tsconfigPath,\r\n    future,\r\n  };\r\n}\r\n\r\nconst entryExts = [\".js\"];\r\n\r\nfunction findEntry(dir, basename) {\r\n  for (let ext of entryExts) {\r\n    let file = path.resolve(dir, basename + ext);\r\n    console.log(file)\r\n    if (fse.existsSync(file)) return path.relative(dir, file);\r\n  }\r\n  return undefined;\r\n}\r\nfunction addTrailingSlash(path) {\r\n    return path.endsWith(\"/\") ? path : path + \"/\";\r\n  }\r\n"],"names":["isValidServerMode","serverBuildVirtualModule"],"mappings":"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"}